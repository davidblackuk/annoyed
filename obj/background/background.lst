                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.6.8 #9946 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module background
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _restoreBackground
                             12 	.globl _initializeBackground
                             13 	.globl _cpct_etm_drawTilemap4x8_ag
                             14 	.globl _cpct_etm_setDrawTilemap4x8_ag
                             15 	.globl _cpct_etm_setTileset2x4
                             16 	.globl _cpct_etm_drawTileBox2x4
                             17 	.globl _cpct_getScreenPtr
                             18 	.globl _pvmem
                             19 ;--------------------------------------------------------
                             20 ; special function registers
                             21 ;--------------------------------------------------------
                             22 ;--------------------------------------------------------
                             23 ; ram data
                             24 ;--------------------------------------------------------
                             25 	.area _DATA
   0000                      26 _pvmem::
   0000                      27 	.ds 2
                             28 ;--------------------------------------------------------
                             29 ; ram data
                             30 ;--------------------------------------------------------
                             31 	.area _INITIALIZED
                             32 ;--------------------------------------------------------
                             33 ; absolute external ram data
                             34 ;--------------------------------------------------------
                             35 	.area _DABS (ABS)
                             36 ;--------------------------------------------------------
                             37 ; global & static initialisations
                             38 ;--------------------------------------------------------
                             39 	.area _HOME
                             40 	.area _GSINIT
                             41 	.area _GSFINAL
                             42 	.area _GSINIT
                             43 ;--------------------------------------------------------
                             44 ; Home
                             45 ;--------------------------------------------------------
                             46 	.area _HOME
                             47 	.area _HOME
                             48 ;--------------------------------------------------------
                             49 ; code
                             50 ;--------------------------------------------------------
                             51 	.area _CODE
                             52 ;src/background/background.c:9: void initializeBackground()
                             53 ;	---------------------------------
                             54 ; Function initializeBackground
                             55 ; ---------------------------------
   0000                      56 _initializeBackground::
                             57 ;src/background/background.c:12: pvmem = cpct_getScreenPtr(CPCT_VMEM_START, 8, 16);
   0000 21 08 10      [10]   58 	ld	hl, #0x1008
   0003 E5            [11]   59 	push	hl
   0004 21 00 C0      [10]   60 	ld	hl, #0xc000
   0007 E5            [11]   61 	push	hl
   0008 CDr00r00      [17]   62 	call	_cpct_getScreenPtr
   000B 22r00r00      [16]   63 	ld	(_pvmem), hl
                             64 ;src/background/background.c:16: cpct_etm_setDrawTilemap4x8_ag(g_tilemap_W, g_tilemap_H, g_tilemap_W, g_tiles_00);
   000E 21r00r00      [10]   65 	ld	hl, #_g_tiles_00
   0011 E5            [11]   66 	push	hl
   0012 21 10 00      [10]   67 	ld	hl, #0x0010
   0015 E5            [11]   68 	push	hl
   0016 26 17         [ 7]   69 	ld	h, #0x17
   0018 E5            [11]   70 	push	hl
   0019 CDr00r00      [17]   71 	call	_cpct_etm_setDrawTilemap4x8_ag
                             72 ;src/background/background.c:20: cpct_etm_drawTilemap4x8_ag(pvmem, g_tilemap);
   001C 01r00r00      [10]   73 	ld	bc, #_g_tilemap+0
   001F 2Ar00r00      [16]   74 	ld	hl, (_pvmem)
   0022 C5            [11]   75 	push	bc
   0023 E5            [11]   76 	push	hl
   0024 CDr00r00      [17]   77 	call	_cpct_etm_drawTilemap4x8_ag
                             78 ;src/background/background.c:22: cpct_etm_setTileset2x4(g_tiles_00);
   0027 21r00r00      [10]   79 	ld	hl, #_g_tiles_00
   002A CDr00r00      [17]   80 	call	_cpct_etm_setTileset2x4
   002D C9            [10]   81 	ret
                             82 ;src/background/background.c:27: void restoreBackground(u8 tx, u8 ty, u8 twidth, u8 tHeight) {
                             83 ;	---------------------------------
                             84 ; Function restoreBackground
                             85 ; ---------------------------------
   002E                      86 _restoreBackground::
                             87 ;src/background/background.c:30: cpct_etm_drawTileBox2x4(1, 1, 2, 2, g_tilemap_W, pvmem, g_tilemap);
   002E 01r00r00      [10]   88 	ld	bc, #_g_tilemap+0
   0031 2Ar00r00      [16]   89 	ld	hl, (_pvmem)
   0034 C5            [11]   90 	push	bc
   0035 E5            [11]   91 	push	hl
   0036 21 02 10      [10]   92 	ld	hl, #0x1002
   0039 E5            [11]   93 	push	hl
   003A 21 01 02      [10]   94 	ld	hl, #0x0201
   003D E5            [11]   95 	push	hl
   003E 3E 01         [ 7]   96 	ld	a, #0x01
   0040 F5            [11]   97 	push	af
   0041 33            [ 6]   98 	inc	sp
   0042 CDr00r00      [17]   99 	call	_cpct_etm_drawTileBox2x4
   0045 C9            [10]  100 	ret
                            101 	.area _CODE
                            102 	.area _INITIALIZER
                            103 	.area _CABS (ABS)
