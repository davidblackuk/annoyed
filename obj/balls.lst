                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.6.8 #9946 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module balls
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _balls_restore_background
                             12 	.globl _restoreBackground
                             13 	.globl _cpct_getScreenPtr
                             14 	.globl _cpct_drawSprite
                             15 	.globl _serving
                             16 	.globl _balls
                             17 	.globl _balls_initialize
                             18 	.globl _balls_update
                             19 	.globl _balls_draw
                             20 	.globl _balls_get_first_active
                             21 	.globl _center_ball
                             22 	.globl _update_ball
                             23 ;--------------------------------------------------------
                             24 ; special function registers
                             25 ;--------------------------------------------------------
                             26 ;--------------------------------------------------------
                             27 ; ram data
                             28 ;--------------------------------------------------------
                             29 	.area _DATA
   0000                      30 _balls::
   0000                      31 	.ds 21
   0015                      32 _serving::
   0015                      33 	.ds 1
                             34 ;--------------------------------------------------------
                             35 ; ram data
                             36 ;--------------------------------------------------------
                             37 	.area _INITIALIZED
                             38 ;--------------------------------------------------------
                             39 ; absolute external ram data
                             40 ;--------------------------------------------------------
                             41 	.area _DABS (ABS)
                             42 ;--------------------------------------------------------
                             43 ; global & static initialisations
                             44 ;--------------------------------------------------------
                             45 	.area _HOME
                             46 	.area _GSINIT
                             47 	.area _GSFINAL
                             48 	.area _GSINIT
                             49 ;--------------------------------------------------------
                             50 ; Home
                             51 ;--------------------------------------------------------
                             52 	.area _HOME
                             53 	.area _HOME
                             54 ;--------------------------------------------------------
                             55 ; code
                             56 ;--------------------------------------------------------
                             57 	.area _CODE
                             58 ;src/balls.c:14: void balls_initialize()
                             59 ;	---------------------------------
                             60 ; Function balls_initialize
                             61 ; ---------------------------------
   0000                      62 _balls_initialize::
                             63 ;src/balls.c:17: serving = 1;
   0000 21r15r00      [10]   64 	ld	hl,#_serving + 0
   0003 36 01         [10]   65 	ld	(hl), #0x01
                             66 ;src/balls.c:20: for (u8 i = 0; i < MAX_BALLS; i++)
   0005 0E 00         [ 7]   67 	ld	c, #0x00
   0007                      68 00103$:
   0007 79            [ 4]   69 	ld	a, c
   0008 D6 03         [ 7]   70 	sub	a, #0x03
   000A 30 37         [12]   71 	jr	NC,00101$
                             72 ;src/balls.c:22: balls[i].active = 0;
   000C 06 00         [ 7]   73 	ld	b,#0x00
   000E 69            [ 4]   74 	ld	l, c
   000F 60            [ 4]   75 	ld	h, b
   0010 29            [11]   76 	add	hl, hl
   0011 09            [11]   77 	add	hl, bc
   0012 29            [11]   78 	add	hl, hl
   0013 09            [11]   79 	add	hl, bc
   0014 EB            [ 4]   80 	ex	de,hl
   0015 21r00r00      [10]   81 	ld	hl, #_balls
   0018 19            [11]   82 	add	hl,de
   0019 EB            [ 4]   83 	ex	de,hl
   001A AF            [ 4]   84 	xor	a, a
   001B 12            [ 7]   85 	ld	(de), a
                             86 ;src/balls.c:23: balls[i].x = TILE_MAP_SCREEN_BYTE_OFFSET_X;
   001C 6B            [ 4]   87 	ld	l, e
   001D 62            [ 4]   88 	ld	h, d
   001E 23            [ 6]   89 	inc	hl
   001F 36 08         [10]   90 	ld	(hl), #0x08
                             91 ;src/balls.c:24: balls[i].y = TILE_MAP_SCREEN_PIXEL_OFFSET_Y;
   0021 6B            [ 4]   92 	ld	l, e
   0022 62            [ 4]   93 	ld	h, d
   0023 23            [ 6]   94 	inc	hl
   0024 23            [ 6]   95 	inc	hl
   0025 36 10         [10]   96 	ld	(hl), #0x10
                             97 ;src/balls.c:25: balls[i].prev_x = TILE_MAP_SCREEN_BYTE_OFFSET_X;
   0027 6B            [ 4]   98 	ld	l, e
   0028 62            [ 4]   99 	ld	h, d
   0029 23            [ 6]  100 	inc	hl
   002A 23            [ 6]  101 	inc	hl
   002B 23            [ 6]  102 	inc	hl
   002C 36 08         [10]  103 	ld	(hl), #0x08
                            104 ;src/balls.c:26: balls[i].prev_y = TILE_MAP_SCREEN_PIXEL_OFFSET_Y;
   002E 21 04 00      [10]  105 	ld	hl, #0x0004
   0031 19            [11]  106 	add	hl, de
   0032 36 10         [10]  107 	ld	(hl), #0x10
                            108 ;src/balls.c:27: balls[i].dx = 1;
   0034 21 05 00      [10]  109 	ld	hl, #0x0005
   0037 19            [11]  110 	add	hl, de
   0038 36 01         [10]  111 	ld	(hl), #0x01
                            112 ;src/balls.c:28: balls[i].dy = 0;
   003A 21 06 00      [10]  113 	ld	hl, #0x0006
   003D 19            [11]  114 	add	hl, de
   003E 36 00         [10]  115 	ld	(hl), #0x00
                            116 ;src/balls.c:20: for (u8 i = 0; i < MAX_BALLS; i++)
   0040 0C            [ 4]  117 	inc	c
   0041 18 C4         [12]  118 	jr	00103$
   0043                     119 00101$:
                            120 ;src/balls.c:30: balls[0].active = 1;
   0043 21r00r00      [10]  121 	ld	hl, #_balls
   0046 36 01         [10]  122 	ld	(hl), #0x01
                            123 ;src/balls.c:33: center_ball(balls);
   0048 E5            [11]  124 	push	hl
   0049 CDr42r01      [17]  125 	call	_center_ball
   004C F1            [10]  126 	pop	af
   004D C9            [10]  127 	ret
                            128 ;src/balls.c:36: void balls_update()
                            129 ;	---------------------------------
                            130 ; Function balls_update
                            131 ; ---------------------------------
   004E                     132 _balls_update::
                            133 ;src/balls.c:38: Ball *ball = balls;
   004E 01r00r00      [10]  134 	ld	bc, #_balls+0
                            135 ;src/balls.c:39: if (serving)
   0051 3Ar15r00      [13]  136 	ld	a,(#_serving + 0)
   0054 B7            [ 4]  137 	or	a, a
   0055 28 2D         [12]  138 	jr	Z,00115$
                            139 ;src/balls.c:41: center_ball(ball);
   0057 C5            [11]  140 	push	bc
   0058 C5            [11]  141 	push	bc
   0059 CDr42r01      [17]  142 	call	_center_ball
   005C F1            [10]  143 	pop	af
   005D C1            [10]  144 	pop	bc
                            145 ;src/balls.c:42: if (key_serve_is_pressed)
   005E 3Ar00r00      [13]  146 	ld	a,(#_key_serve_is_pressed + 0)
   0061 B7            [ 4]  147 	or	a, a
   0062 C8            [11]  148 	ret	Z
                            149 ;src/balls.c:44: serving = 0;
   0063 21r15r00      [10]  150 	ld	hl,#_serving + 0
   0066 36 00         [10]  151 	ld	(hl), #0x00
                            152 ;src/balls.c:45: ball->dx = 1; // 45 degrees right
   0068 21r05r00      [10]  153 	ld	hl, #(_balls + 0x0005)
   006B 36 01         [10]  154 	ld	(hl), #0x01
                            155 ;src/balls.c:46: ball->dy = -2;
   006D 21r06r00      [10]  156 	ld	hl, #(_balls + 0x0006)
   0070 36 FE         [10]  157 	ld	(hl), #0xfe
                            158 ;src/balls.c:47: ball->prev_x = ball->x;
   0072 69            [ 4]  159 	ld	l, c
   0073 60            [ 4]  160 	ld	h, b
   0074 23            [ 6]  161 	inc	hl
   0075 5E            [ 7]  162 	ld	e, (hl)
   0076 21r03r00      [10]  163 	ld	hl, #(_balls + 0x0003)
   0079 73            [ 7]  164 	ld	(hl), e
                            165 ;src/balls.c:48: ball->prev_y = ball->y;
   007A 69            [ 4]  166 	ld	l, c
   007B 60            [ 4]  167 	ld	h, b
   007C 23            [ 6]  168 	inc	hl
   007D 23            [ 6]  169 	inc	hl
   007E 4E            [ 7]  170 	ld	c, (hl)
   007F 21r04r00      [10]  171 	ld	hl, #(_balls + 0x0004)
   0082 71            [ 7]  172 	ld	(hl), c
   0083 C9            [10]  173 	ret
                            174 ;src/balls.c:53: for (u8 i = 0; i < MAX_BALLS; i++)
   0084                     175 00115$:
   0084 1E 00         [ 7]  176 	ld	e, #0x00
   0086                     177 00108$:
   0086 7B            [ 4]  178 	ld	a, e
   0087 D6 03         [ 7]  179 	sub	a, #0x03
   0089 D0            [11]  180 	ret	NC
                            181 ;src/balls.c:55: update_ball(ball);
   008A C5            [11]  182 	push	bc
   008B D5            [11]  183 	push	de
   008C C5            [11]  184 	push	bc
   008D CDr85r01      [17]  185 	call	_update_ball
   0090 F1            [10]  186 	pop	af
   0091 D1            [10]  187 	pop	de
   0092 C1            [10]  188 	pop	bc
                            189 ;src/balls.c:56: ball++;
   0093 21 07 00      [10]  190 	ld	hl, #0x0007
   0096 09            [11]  191 	add	hl,bc
   0097 4D            [ 4]  192 	ld	c, l
   0098 44            [ 4]  193 	ld	b, h
                            194 ;src/balls.c:53: for (u8 i = 0; i < MAX_BALLS; i++)
   0099 1C            [ 4]  195 	inc	e
   009A 18 EA         [12]  196 	jr	00108$
                            197 ;src/balls.c:61: void balls_restore_background()
                            198 ;	---------------------------------
                            199 ; Function balls_restore_background
                            200 ; ---------------------------------
   009C                     201 _balls_restore_background::
   009C DD E5         [15]  202 	push	ix
   009E DD 21 00 00   [14]  203 	ld	ix,#0
   00A2 DD 39         [15]  204 	add	ix,sp
   00A4 3B            [ 6]  205 	dec	sp
                            206 ;src/balls.c:63: Ball *ball = balls;
   00A5 01r00r00      [10]  207 	ld	bc, #_balls
                            208 ;src/balls.c:64: for (u8 i = 0; i < MAX_BALLS; i++)
   00A8 DD 36 FF 00   [19]  209 	ld	-1 (ix), #0x00
   00AC                     210 00105$:
   00AC DD 7E FF      [19]  211 	ld	a, -1 (ix)
   00AF D6 03         [ 7]  212 	sub	a, #0x03
   00B1 30 29         [12]  213 	jr	NC,00107$
                            214 ;src/balls.c:66: if (ball->active)
   00B3 0A            [ 7]  215 	ld	a, (bc)
   00B4 B7            [ 4]  216 	or	a, a
   00B5 28 1A         [12]  217 	jr	Z,00102$
                            218 ;src/balls.c:68: restoreBackground(ball->prev_x, balls->prev_y, SP_BALL_W, SP_BALL_H);
   00B7 21r04r00      [10]  219 	ld	hl, #_balls + 4
   00BA 5E            [ 7]  220 	ld	e, (hl)
   00BB 69            [ 4]  221 	ld	l, c
   00BC 60            [ 4]  222 	ld	h, b
   00BD 23            [ 6]  223 	inc	hl
   00BE 23            [ 6]  224 	inc	hl
   00BF 23            [ 6]  225 	inc	hl
   00C0 56            [ 7]  226 	ld	d, (hl)
   00C1 C5            [11]  227 	push	bc
   00C2 21 03 06      [10]  228 	ld	hl, #0x0603
   00C5 E5            [11]  229 	push	hl
   00C6 7B            [ 4]  230 	ld	a, e
   00C7 F5            [11]  231 	push	af
   00C8 33            [ 6]  232 	inc	sp
   00C9 D5            [11]  233 	push	de
   00CA 33            [ 6]  234 	inc	sp
   00CB CDr00r00      [17]  235 	call	_restoreBackground
   00CE F1            [10]  236 	pop	af
   00CF F1            [10]  237 	pop	af
   00D0 C1            [10]  238 	pop	bc
   00D1                     239 00102$:
                            240 ;src/balls.c:70: ball++;
   00D1 21 07 00      [10]  241 	ld	hl, #0x0007
   00D4 09            [11]  242 	add	hl,bc
   00D5 4D            [ 4]  243 	ld	c, l
   00D6 44            [ 4]  244 	ld	b, h
                            245 ;src/balls.c:64: for (u8 i = 0; i < MAX_BALLS; i++)
   00D7 DD 34 FF      [23]  246 	inc	-1 (ix)
   00DA 18 D0         [12]  247 	jr	00105$
   00DC                     248 00107$:
   00DC 33            [ 6]  249 	inc	sp
   00DD DD E1         [14]  250 	pop	ix
   00DF C9            [10]  251 	ret
                            252 ;src/balls.c:74: void balls_draw()
                            253 ;	---------------------------------
                            254 ; Function balls_draw
                            255 ; ---------------------------------
   00E0                     256 _balls_draw::
                            257 ;src/balls.c:78: for (u8 i = 0; i < MAX_BALLS; i++)
   00E0 0E 00         [ 7]  258 	ld	c, #0x00
   00E2                     259 00105$:
   00E2 79            [ 4]  260 	ld	a, c
   00E3 D6 03         [ 7]  261 	sub	a, #0x03
   00E5 D0            [11]  262 	ret	NC
                            263 ;src/balls.c:80: if (balls->active)
   00E6 3Ar00r00      [13]  264 	ld	a, (#_balls + 0)
   00E9 B7            [ 4]  265 	or	a, a
   00EA 28 1F         [12]  266 	jr	Z,00106$
                            267 ;src/balls.c:82: svmem = cpct_getScreenPtr(CPCT_VMEM_START, balls->x, balls->y);
   00EC 21r02r00      [10]  268 	ld	hl, #_balls + 2
   00EF 46            [ 7]  269 	ld	b, (hl)
   00F0 21r01r00      [10]  270 	ld	hl, #_balls + 1
   00F3 56            [ 7]  271 	ld	d, (hl)
   00F4 C5            [11]  272 	push	bc
   00F5 4A            [ 4]  273 	ld	c, d
   00F6 C5            [11]  274 	push	bc
   00F7 21 00 C0      [10]  275 	ld	hl, #0xc000
   00FA E5            [11]  276 	push	hl
   00FB CDr00r00      [17]  277 	call	_cpct_getScreenPtr
   00FE 11 03 06      [10]  278 	ld	de, #0x0603
   0101 D5            [11]  279 	push	de
   0102 E5            [11]  280 	push	hl
   0103 21r00r00      [10]  281 	ld	hl, #_sp_ball
   0106 E5            [11]  282 	push	hl
   0107 CDr00r00      [17]  283 	call	_cpct_drawSprite
   010A C1            [10]  284 	pop	bc
   010B                     285 00106$:
                            286 ;src/balls.c:78: for (u8 i = 0; i < MAX_BALLS; i++)
   010B 0C            [ 4]  287 	inc	c
   010C 18 D4         [12]  288 	jr	00105$
                            289 ;src/balls.c:88: Ball * balls_get_first_active() {
                            290 ;	---------------------------------
                            291 ; Function balls_get_first_active
                            292 ; ---------------------------------
   010E                     293 _balls_get_first_active::
   010E DD E5         [15]  294 	push	ix
   0110 DD 21 00 00   [14]  295 	ld	ix,#0
   0114 DD 39         [15]  296 	add	ix,sp
   0116 F5            [11]  297 	push	af
                            298 ;src/balls.c:89: Ball *ball = balls;
   0117 DD 36 FEr00   [19]  299 	ld	-2 (ix), #<(_balls)
   011B DD 36 FFs00   [19]  300 	ld	-1 (ix), #>(_balls)
                            301 ;src/balls.c:90: for (u8 i = 0; i < MAX_BALLS; i++)
   011F E1            [10]  302 	pop	hl
   0120 E5            [11]  303 	push	hl
   0121 0E 00         [ 7]  304 	ld	c, #0x00
   0123                     305 00105$:
   0123 79            [ 4]  306 	ld	a, c
   0124 D6 03         [ 7]  307 	sub	a, #0x03
   0126 30 12         [12]  308 	jr	NC,00103$
                            309 ;src/balls.c:92: if (ball->active)
   0128 7E            [ 7]  310 	ld	a, (hl)
   0129 B7            [ 4]  311 	or	a, a
   012A 28 04         [12]  312 	jr	Z,00102$
                            313 ;src/balls.c:94: return ball;
   012C E1            [10]  314 	pop	hl
   012D E5            [11]  315 	push	hl
   012E 18 0D         [12]  316 	jr	00107$
   0130                     317 00102$:
                            318 ;src/balls.c:96: ball++;
   0130 11 07 00      [10]  319 	ld	de, #0x0007
   0133 19            [11]  320 	add	hl, de
   0134 33            [ 6]  321 	inc	sp
   0135 33            [ 6]  322 	inc	sp
   0136 E5            [11]  323 	push	hl
                            324 ;src/balls.c:90: for (u8 i = 0; i < MAX_BALLS; i++)
   0137 0C            [ 4]  325 	inc	c
   0138 18 E9         [12]  326 	jr	00105$
   013A                     327 00103$:
                            328 ;src/balls.c:98: return NULL;
   013A 21 00 00      [10]  329 	ld	hl, #0x0000
   013D                     330 00107$:
   013D DD F9         [10]  331 	ld	sp, ix
   013F DD E1         [14]  332 	pop	ix
   0141 C9            [10]  333 	ret
                            334 ;src/balls.c:105: void center_ball(Ball *ball)
                            335 ;	---------------------------------
                            336 ; Function center_ball
                            337 ; ---------------------------------
   0142                     338 _center_ball::
   0142 DD E5         [15]  339 	push	ix
   0144 DD 21 00 00   [14]  340 	ld	ix,#0
   0148 DD 39         [15]  341 	add	ix,sp
                            342 ;src/balls.c:107: ball->prev_x = ball->x;
   014A DD 4E 04      [19]  343 	ld	c,4 (ix)
   014D DD 46 05      [19]  344 	ld	b,5 (ix)
   0150 C5            [11]  345 	push	bc
   0151 FD E1         [14]  346 	pop	iy
   0153 FD 23         [10]  347 	inc	iy
   0155 FD 23         [10]  348 	inc	iy
   0157 FD 23         [10]  349 	inc	iy
   0159 59            [ 4]  350 	ld	e, c
   015A 50            [ 4]  351 	ld	d, b
   015B 13            [ 6]  352 	inc	de
   015C 1A            [ 7]  353 	ld	a, (de)
   015D FD 77 00      [19]  354 	ld	0 (iy), a
                            355 ;src/balls.c:108: ball->prev_y = ball->y;
   0160 FD 21 04 00   [14]  356 	ld	iy, #0x0004
   0164 FD 09         [15]  357 	add	iy, bc
   0166 03            [ 6]  358 	inc	bc
   0167 03            [ 6]  359 	inc	bc
   0168 0A            [ 7]  360 	ld	a, (bc)
   0169 FD 77 00      [19]  361 	ld	0 (iy), a
                            362 ;src/balls.c:109: ball->x = batX + (batW / 4);
   016C FD 21r00r00   [14]  363 	ld	iy, #_batW
   0170 FD 6E 00      [19]  364 	ld	l, 0 (iy)
   0173 CB 3D         [ 8]  365 	srl	l
   0175 CB 3D         [ 8]  366 	srl	l
   0177 3Ar00r00      [13]  367 	ld	a,(#_batX + 0)
   017A 85            [ 4]  368 	add	a, l
   017B 12            [ 7]  369 	ld	(de), a
                            370 ;src/balls.c:110: ball->y = batY - SP_BALL_H;
   017C 3Ar00r00      [13]  371 	ld	a,(#_batY + 0)
   017F C6 FA         [ 7]  372 	add	a, #0xfa
   0181 02            [ 7]  373 	ld	(bc), a
   0182 DD E1         [14]  374 	pop	ix
   0184 C9            [10]  375 	ret
                            376 ;src/balls.c:113: void update_ball(Ball *ball)
                            377 ;	---------------------------------
                            378 ; Function update_ball
                            379 ; ---------------------------------
   0185                     380 _update_ball::
   0185 DD E5         [15]  381 	push	ix
   0187 DD 21 00 00   [14]  382 	ld	ix,#0
   018B DD 39         [15]  383 	add	ix,sp
   018D 21 F3 FF      [10]  384 	ld	hl, #-13
   0190 39            [11]  385 	add	hl, sp
   0191 F9            [ 6]  386 	ld	sp, hl
                            387 ;src/balls.c:115: ball->prev_x = ball->x;
   0192 DD 7E 04      [19]  388 	ld	a, 4 (ix)
   0195 DD 77 F7      [19]  389 	ld	-9 (ix), a
   0198 DD 7E 05      [19]  390 	ld	a, 5 (ix)
   019B DD 77 F8      [19]  391 	ld	-8 (ix), a
   019E DD 4E F7      [19]  392 	ld	c,-9 (ix)
   01A1 DD 46 F8      [19]  393 	ld	b,-8 (ix)
   01A4 03            [ 6]  394 	inc	bc
   01A5 03            [ 6]  395 	inc	bc
   01A6 03            [ 6]  396 	inc	bc
   01A7 DD 7E F7      [19]  397 	ld	a, -9 (ix)
   01AA C6 01         [ 7]  398 	add	a, #0x01
   01AC DD 77 F5      [19]  399 	ld	-11 (ix), a
   01AF DD 7E F8      [19]  400 	ld	a, -8 (ix)
   01B2 CE 00         [ 7]  401 	adc	a, #0x00
   01B4 DD 77 F6      [19]  402 	ld	-10 (ix), a
   01B7 DD 6E F5      [19]  403 	ld	l,-11 (ix)
   01BA DD 66 F6      [19]  404 	ld	h,-10 (ix)
   01BD 7E            [ 7]  405 	ld	a, (hl)
   01BE 02            [ 7]  406 	ld	(bc), a
                            407 ;src/balls.c:116: ball->prev_y = ball->y;
   01BF DD 7E F7      [19]  408 	ld	a, -9 (ix)
   01C2 C6 04         [ 7]  409 	add	a, #0x04
   01C4 4F            [ 4]  410 	ld	c, a
   01C5 DD 7E F8      [19]  411 	ld	a, -8 (ix)
   01C8 CE 00         [ 7]  412 	adc	a, #0x00
   01CA 47            [ 4]  413 	ld	b, a
   01CB DD 7E F7      [19]  414 	ld	a, -9 (ix)
   01CE C6 02         [ 7]  415 	add	a, #0x02
   01D0 DD 77 FE      [19]  416 	ld	-2 (ix), a
   01D3 DD 7E F8      [19]  417 	ld	a, -8 (ix)
   01D6 CE 00         [ 7]  418 	adc	a, #0x00
   01D8 DD 77 FF      [19]  419 	ld	-1 (ix), a
   01DB DD 6E FE      [19]  420 	ld	l,-2 (ix)
   01DE DD 66 FF      [19]  421 	ld	h,-1 (ix)
   01E1 7E            [ 7]  422 	ld	a, (hl)
   01E2 02            [ 7]  423 	ld	(bc), a
                            424 ;src/balls.c:118: if (ball->active)
   01E3 DD 6E F7      [19]  425 	ld	l,-9 (ix)
   01E6 DD 66 F8      [19]  426 	ld	h,-8 (ix)
   01E9 7E            [ 7]  427 	ld	a, (hl)
   01EA DD 77 FD      [19]  428 	ld	-3 (ix), a
   01ED B7            [ 4]  429 	or	a, a
   01EE CArFEr02      [10]  430 	jp	Z, 00121$
                            431 ;src/balls.c:120: u8 new_x = ball->x + ball->dx;
   01F1 DD 6E F5      [19]  432 	ld	l,-11 (ix)
   01F4 DD 66 F6      [19]  433 	ld	h,-10 (ix)
   01F7 7E            [ 7]  434 	ld	a, (hl)
   01F8 DD 77 FD      [19]  435 	ld	-3 (ix), a
   01FB DD 7E F7      [19]  436 	ld	a, -9 (ix)
   01FE C6 05         [ 7]  437 	add	a, #0x05
   0200 DD 77 FB      [19]  438 	ld	-5 (ix), a
   0203 DD 7E F8      [19]  439 	ld	a, -8 (ix)
   0206 CE 00         [ 7]  440 	adc	a, #0x00
   0208 DD 77 FC      [19]  441 	ld	-4 (ix), a
   020B DD 6E FB      [19]  442 	ld	l,-5 (ix)
   020E DD 66 FC      [19]  443 	ld	h,-4 (ix)
   0211 7E            [ 7]  444 	ld	a, (hl)
   0212 DD 77 FA      [19]  445 	ld	-6 (ix), a
   0215 DD 7E FD      [19]  446 	ld	a, -3 (ix)
   0218 DD 86 FA      [19]  447 	add	a, -6 (ix)
   021B DD 77 F4      [19]  448 	ld	-12 (ix), a
                            449 ;src/balls.c:121: u8 new_y = ball->y + ball->dy;
   021E DD 6E FE      [19]  450 	ld	l,-2 (ix)
   0221 DD 66 FF      [19]  451 	ld	h,-1 (ix)
   0224 7E            [ 7]  452 	ld	a, (hl)
   0225 DD 77 FD      [19]  453 	ld	-3 (ix), a
   0228 DD 7E F7      [19]  454 	ld	a, -9 (ix)
   022B C6 06         [ 7]  455 	add	a, #0x06
   022D DD 77 F7      [19]  456 	ld	-9 (ix), a
   0230 DD 7E F8      [19]  457 	ld	a, -8 (ix)
   0233 CE 00         [ 7]  458 	adc	a, #0x00
   0235 DD 77 F8      [19]  459 	ld	-8 (ix), a
   0238 DD 6E F7      [19]  460 	ld	l,-9 (ix)
   023B DD 66 F8      [19]  461 	ld	h,-8 (ix)
   023E 7E            [ 7]  462 	ld	a, (hl)
   023F DD 77 F9      [19]  463 	ld	-7 (ix), a
   0242 DD 7E FD      [19]  464 	ld	a, -3 (ix)
   0245 DD 86 F9      [19]  465 	add	a, -7 (ix)
   0248 DD 77 F3      [19]  466 	ld	-13 (ix), a
   024B 4F            [ 4]  467 	ld	c, a
                            468 ;src/balls.c:122: if (ball->dx > 0)
   024C AF            [ 4]  469 	xor	a, a
   024D DD 96 FA      [19]  470 	sub	a, -6 (ix)
   0250 E2r55r02      [10]  471 	jp	PO, 00151$
   0253 EE 80         [ 7]  472 	xor	a, #0x80
   0255                     473 00151$:
   0255 F2r86r02      [10]  474 	jp	P, 00108$
                            475 ;src/balls.c:124: if (new_x >= PLAY_AREA_RIGHT_EDGE - SP_BALL_W)
   0258 DD 7E F4      [19]  476 	ld	a, -12 (ix)
   025B D6 3F         [ 7]  477 	sub	a, #0x3f
   025D 38 1B         [12]  478 	jr	C,00102$
                            479 ;src/balls.c:126: ball->x = PLAY_AREA_RIGHT_EDGE - SP_BALL_W;
   025F DD 6E F5      [19]  480 	ld	l,-11 (ix)
   0262 DD 66 F6      [19]  481 	ld	h,-10 (ix)
   0265 36 3F         [10]  482 	ld	(hl), #0x3f
                            483 ;src/balls.c:127: ball->dx = -ball->dx;
   0267 DD 6E FB      [19]  484 	ld	l,-5 (ix)
   026A DD 66 FC      [19]  485 	ld	h,-4 (ix)
   026D 46            [ 7]  486 	ld	b, (hl)
   026E AF            [ 4]  487 	xor	a, a
   026F 90            [ 4]  488 	sub	a, b
   0270 47            [ 4]  489 	ld	b, a
   0271 DD 6E FB      [19]  490 	ld	l,-5 (ix)
   0274 DD 66 FC      [19]  491 	ld	h,-4 (ix)
   0277 70            [ 7]  492 	ld	(hl), b
   0278 18 38         [12]  493 	jr	00109$
   027A                     494 00102$:
                            495 ;src/balls.c:131: ball->x = new_x;
   027A DD 6E F5      [19]  496 	ld	l,-11 (ix)
   027D DD 66 F6      [19]  497 	ld	h,-10 (ix)
   0280 DD 7E F4      [19]  498 	ld	a, -12 (ix)
   0283 77            [ 7]  499 	ld	(hl), a
   0284 18 2C         [12]  500 	jr	00109$
   0286                     501 00108$:
                            502 ;src/balls.c:137: if (new_x <= PLAY_AREA_LEFT_EDGE)
   0286 3E 0C         [ 7]  503 	ld	a, #0x0c
   0288 DD 96 F4      [19]  504 	sub	a, -12 (ix)
   028B 38 1B         [12]  505 	jr	C,00105$
                            506 ;src/balls.c:139: ball->x = PLAY_AREA_LEFT_EDGE;
   028D DD 6E F5      [19]  507 	ld	l,-11 (ix)
   0290 DD 66 F6      [19]  508 	ld	h,-10 (ix)
   0293 36 0C         [10]  509 	ld	(hl), #0x0c
                            510 ;src/balls.c:140: ball->dx = -ball->dx;
   0295 DD 6E FB      [19]  511 	ld	l,-5 (ix)
   0298 DD 66 FC      [19]  512 	ld	h,-4 (ix)
   029B 46            [ 7]  513 	ld	b, (hl)
   029C AF            [ 4]  514 	xor	a, a
   029D 90            [ 4]  515 	sub	a, b
   029E 47            [ 4]  516 	ld	b, a
   029F DD 6E FB      [19]  517 	ld	l,-5 (ix)
   02A2 DD 66 FC      [19]  518 	ld	h,-4 (ix)
   02A5 70            [ 7]  519 	ld	(hl), b
   02A6 18 0A         [12]  520 	jr	00109$
   02A8                     521 00105$:
                            522 ;src/balls.c:144: ball->x = new_x;
   02A8 DD 6E F5      [19]  523 	ld	l,-11 (ix)
   02AB DD 66 F6      [19]  524 	ld	h,-10 (ix)
   02AE DD 7E F4      [19]  525 	ld	a, -12 (ix)
   02B1 77            [ 7]  526 	ld	(hl), a
   02B2                     527 00109$:
                            528 ;src/balls.c:148: if (ball->dy < 0)
   02B2 DD 6E F7      [19]  529 	ld	l,-9 (ix)
   02B5 DD 66 F8      [19]  530 	ld	h,-8 (ix)
   02B8 46            [ 7]  531 	ld	b, (hl)
   02B9 CB 78         [ 8]  532 	bit	7, b
   02BB 28 29         [12]  533 	jr	Z,00117$
                            534 ;src/balls.c:150: if (new_y <= PLAY_AREA_TOP_EDGE)
   02BD 3E 18         [ 7]  535 	ld	a, #0x18
   02BF 91            [ 4]  536 	sub	a, c
   02C0 38 1B         [12]  537 	jr	C,00111$
                            538 ;src/balls.c:152: ball->y = PLAY_AREA_TOP_EDGE;
   02C2 DD 6E FE      [19]  539 	ld	l,-2 (ix)
   02C5 DD 66 FF      [19]  540 	ld	h,-1 (ix)
   02C8 36 18         [10]  541 	ld	(hl), #0x18
                            542 ;src/balls.c:153: ball->dy = -ball->dy;
   02CA DD 6E F7      [19]  543 	ld	l,-9 (ix)
   02CD DD 66 F8      [19]  544 	ld	h,-8 (ix)
   02D0 4E            [ 7]  545 	ld	c, (hl)
   02D1 AF            [ 4]  546 	xor	a, a
   02D2 91            [ 4]  547 	sub	a, c
   02D3 4F            [ 4]  548 	ld	c, a
   02D4 DD 6E F7      [19]  549 	ld	l,-9 (ix)
   02D7 DD 66 F8      [19]  550 	ld	h,-8 (ix)
   02DA 71            [ 7]  551 	ld	(hl), c
   02DB 18 21         [12]  552 	jr	00121$
   02DD                     553 00111$:
                            554 ;src/balls.c:157: ball->y = new_y;
   02DD DD 6E FE      [19]  555 	ld	l,-2 (ix)
   02E0 DD 66 FF      [19]  556 	ld	h,-1 (ix)
   02E3 71            [ 7]  557 	ld	(hl), c
   02E4 18 18         [12]  558 	jr	00121$
   02E6                     559 00117$:
                            560 ;src/balls.c:162: if (new_y >= YOUR_DEAD_PIXEL_ROW)
   02E6 79            [ 4]  561 	ld	a, c
   02E7 D6 C2         [ 7]  562 	sub	a, #0xc2
   02E9 38 0C         [12]  563 	jr	C,00114$
                            564 ;src/balls.c:165: ball->dy = -ball->dy;
   02EB AF            [ 4]  565 	xor	a, a
   02EC 90            [ 4]  566 	sub	a, b
   02ED 4F            [ 4]  567 	ld	c, a
   02EE DD 6E F7      [19]  568 	ld	l,-9 (ix)
   02F1 DD 66 F8      [19]  569 	ld	h,-8 (ix)
   02F4 71            [ 7]  570 	ld	(hl), c
   02F5 18 07         [12]  571 	jr	00121$
   02F7                     572 00114$:
                            573 ;src/balls.c:169: ball->y = new_y;
   02F7 DD 6E FE      [19]  574 	ld	l,-2 (ix)
   02FA DD 66 FF      [19]  575 	ld	h,-1 (ix)
   02FD 71            [ 7]  576 	ld	(hl), c
   02FE                     577 00121$:
   02FE DD F9         [10]  578 	ld	sp, ix
   0300 DD E1         [14]  579 	pop	ix
   0302 C9            [10]  580 	ret
                            581 	.area _CODE
                            582 	.area _INITIALIZER
                            583 	.area _CABS (ABS)
